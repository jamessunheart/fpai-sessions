# üèõÔ∏è TREASURY ARENA - Evolutionary Capital Allocation System

**Version:** 1.0
**Status:** SPECIFICATION ‚Üí BUILD PHASE
**Last Updated:** 2025-11-16
**Capital Allocated:** $0 ‚Üí Target: $210K (56% of treasury)

---

## üéØ EXECUTIVE SUMMARY

**What:** AI agents compete for treasury capital in a survival-of-the-fittest arena
**Why:** Self-optimizing returns through Darwinian selection
**How:** Simulation ‚Üí Proving ‚Üí Competition ‚Üí Evolution
**Result:** Best strategies win capital, worst strategies die, treasury compounds autonomously

---

## üí° CORE CONCEPT

Traditional portfolio management: Human picks strategies, hopes they work.

**Treasury Arena:** Dozens of AI agents compete simultaneously. Winners get more capital. Losers get killed. Continuous evolution ensures optimal strategy mix adapts to market conditions.

**This is paradise through evolution.**

---

## üèóÔ∏è ARCHITECTURE

### **4-Layer Hierarchy:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ LAYER 0: STABLE RESERVE ($163K - 43.7%)                     ‚îÇ
‚îÇ ‚îú‚îÄ Aave USDC: $80K @ 7.2% APY                              ‚îÇ
‚îÇ ‚îú‚îÄ Pendle PT: $50K @ 9.1% APY                              ‚îÇ
‚îÇ ‚îî‚îÄ Curve LP: $33K @ 8.5% APY                               ‚îÇ
‚îÇ Purpose: Safety net, never at risk, funds arena if needed   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì Feeds ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ LAYER 1: SIMULATION ($‚àû virtual money)                      ‚îÇ
‚îÇ ‚îú‚îÄ 50+ agents compete with fake money                       ‚îÇ
‚îÇ ‚îú‚îÄ Historical backtesting (2020-2025 data)                  ‚îÇ
‚îÇ ‚îú‚îÄ Live simulation (real-time, fake money)                  ‚îÇ
‚îÇ ‚îî‚îÄ Performance scoring ‚Üí Fitness ranking                     ‚îÇ
‚îÇ Graduation: Top performers ‚Üí Proving Grounds                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì Top 10% ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ LAYER 2: PROVING GROUNDS ($10K - 2.7%)                      ‚îÇ
‚îÇ ‚îú‚îÄ 10 agents, $1K each                                      ‚îÇ
‚îÇ ‚îú‚îÄ 30-day live battle with REAL money                       ‚îÇ
‚îÇ ‚îú‚îÄ Must maintain fitness > 2.0                              ‚îÇ
‚îÇ ‚îî‚îÄ Must have Sharpe > 1.5                                   ‚îÇ
‚îÇ Graduation: Top 5 ‚Üí Main Arena                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì Top 50% ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ LAYER 3: MAIN ARENA ($200K - 53.6%)                         ‚îÇ
‚îÇ ‚îú‚îÄ 10-15 proven agents                                      ‚îÇ
‚îÇ ‚îú‚îÄ Dynamic capital allocation (winners get more)            ‚îÇ
‚îÇ ‚îú‚îÄ Continuous rebalancing (weekly)                          ‚îÇ
‚îÇ ‚îî‚îÄ Underperformers demoted or killed                        ‚îÇ
‚îÇ Result: Self-optimizing portfolio, 25-50% APY target        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Total Treasury:** $373K
**Active Management:** $210K (56.4%)
**Safety Reserve:** $163K (43.6%)

---

## ü§ñ AGENT STRATEGIES (8 Archetypes)

### **1. DeFi Yield Farmers**
```python
Strategy:
  - Hunt stable yields (Aave, Pendle, Curve, Convex)
  - Auto-compound rewards
  - Rebalance to highest APY pools

Target: 6-12% APY
Risk: Low
Capital: $40-80K
Fitness Target: 1.5+

Example Agent:
  - DeFi-Farmer-A: Aave USDC ‚Üí Pendle PT rotation
  - Monitors: APY changes, pool utilization, protocol risk
  - Rebalances: Daily if APY delta > 2%
```

### **2. Tactical Traders (Cycle-Aware)**
```python
Strategy:
  - BTC/SOL directional trading
  - MVRV Z-Score entries (< 2.0 buy, > 3.5 sell)
  - Funding rate arbitrage
  - Quarterly expiry plays (Dec 27, Mar 28, Jun 26, Sep 25)

Target: 30-100% APY
Risk: Medium
Capital: $30-80K
Fitness Target: 2.0+

Example Agent:
  - Tactical-BTC-A: MVRV < 2.0 ‚Üí Long BTC, MVRV > 3.5 ‚Üí Take profit
  - Monitors: MVRV, funding rates, CME gaps, on-chain metrics
  - Position sizing: Kelly criterion (0.25-2x leverage)
```

### **3. Liquidity Provider Bots**
```python
Strategy:
  - Concentrated liquidity AMM positions
  - Auto-rebalance ranges
  - Impermanent loss hedging

Target: 15-50% APY
Risk: Medium (IL risk)
Capital: $20-50K
Fitness Target: 1.8+

Example Agent:
  - LP-Bot-A: Uniswap V3 ETH/USDC 0.05% fee tier
  - Range: ¬±10% of current price
  - Rebalances: When price exits range
  - IL hedge: Short perpetual to offset
```

### **4. Arbitrage Hunters**
```python
Strategy:
  - Cross-exchange price differences
  - Cross-chain arbitrage (bridge fees < profit)
  - DEX ‚Üí CEX ‚Üí DEX triangular arb

Target: 10-30% APY
Risk: Low-Medium
Capital: $10-30K
Fitness Target: 1.6+

Example Agent:
  - Arb-Hunter-A: BTC price on Binance vs Coinbase
  - Execution: When spread > 0.3% (covers fees)
  - Speed: Sub-second execution required
```

### **5. Derivatives Players**
```python
Strategy:
  - Options selling (theta decay)
  - Perpetual funding arbitrage
  - Basis trading (spot-futures spread)

Target: 50-200% APY
Risk: High
Capital: $10-30K
Fitness Target: 2.2+

Example Agent:
  - Derivatives-A: Sell BTC put options 20% OTM
  - Collect premium: 5-10% monthly
  - Delta hedging: Adjust spot position to stay neutral
```

### **6. Moonshot Venture Bots**
```python
Strategy:
  - Early-stage token accumulation
  - AI infrastructure tokens (FET, RENDER, etc.)
  - New DeFi protocols (< $100M FDV)

Target: 100-500% APY
Risk: Very High
Capital: $5-20K
Fitness Target: 2.5+ (high variance)

Example Agent:
  - Moonshot-A: AI token basket (10 positions)
  - Entry: FDV < $100M, team doxxed, product live
  - Exit: 5x or -50% stop loss
```

### **7. Market Maker Bots**
```python
Strategy:
  - Order book market making
  - Bid-ask spread capture
  - Inventory management

Target: 20-60% APY
Risk: Medium
Capital: $20-40K
Fitness Target: 1.9+

Example Agent:
  - MM-Bot-A: SOL/USDC on Serum DEX
  - Spreads: 0.1-0.3% on both sides
  - Inventory: Rebalance every 4 hours
```

### **8. Staking/Restaking Agents**
```python
Strategy:
  - ETH staking (Lido, Rocket Pool)
  - Liquid staking derivatives
  - EigenLayer restaking

Target: 8-15% APY
Risk: Low
Capital: $30-60K
Fitness Target: 1.4+

Example Agent:
  - Staking-A: ETH ‚Üí stETH ‚Üí Aave borrow ‚Üí restake
  - Yield: 4% staking + 3% Aave + 5% restaking = 12%
  - Risk: Smart contract, slashing
```

---

## üß¨ EVOLUTIONARY MECHANICS

### **Birth (Agent Spawning):**

```python
class ArenaManager:
    def spawn_agent(self, strategy_type, params=None):
        """Birth a new agent into simulation layer"""

        agent = TreasuryAgent(
            id=generate_unique_id(),
            strategy=strategy_type,
            params=params or self.get_default_params(strategy_type),
            virtual_capital=10000,  # $10K simulated
            real_capital=0,
            status="simulation"
        )

        # Run initial backtest
        fitness = self.backtest_agent(agent, start="2023-01-01", end="2025-01-01")

        # Add to simulation layer
        if fitness > 0:
            self.simulation_layer.append(agent)
            logger.info(f"Agent {agent.id} born with fitness {fitness:.2f}")
        else:
            logger.info(f"Agent {agent.id} failed birth (fitness {fitness:.2f})")

        return agent

    def mutate_agent(self, parent_agent):
        """Create mutation of successful agent"""

        mutated_params = {
            k: v * random.uniform(0.8, 1.2)  # ¬±20% mutation
            for k, v in parent_agent.params.items()
        }

        return self.spawn_agent(parent_agent.strategy, mutated_params)
```

**Birth triggers:**
- Every 7 days: Spawn 5 new random agents
- Top performer: Spawn 2 mutations
- Agent dies: Spawn replacement with different params

### **Competition (Performance Tracking):**

```python
class TreasuryAgent:
    def calculate_fitness(self):
        """Multi-factor fitness score"""

        # Returns (30%)
        total_return = (self.current_capital - self.initial_capital) / self.initial_capital
        returns_score = total_return * 0.3

        # Sharpe Ratio (40%)
        sharpe = self.sharpe_ratio()
        sharpe_score = sharpe * 0.4

        # Max Drawdown (20% penalty)
        drawdown = abs(self.max_drawdown())
        drawdown_penalty = drawdown * 0.2

        # Volatility (10% penalty)
        volatility = self.volatility()
        volatility_penalty = volatility * 0.1

        # Consistency bonus
        win_rate = self.win_rate()
        consistency_bonus = 0.1 if win_rate > 0.65 else 0

        fitness = returns_score + sharpe_score - drawdown_penalty - volatility_penalty + consistency_bonus

        return fitness

    def sharpe_ratio(self):
        """Risk-adjusted returns"""
        returns = np.array([day['pnl'] for day in self.performance_history])
        return np.mean(returns) / (np.std(returns) + 1e-9)  # Avoid division by zero

    def max_drawdown(self):
        """Largest peak-to-trough decline"""
        capital_curve = [day['capital'] for day in self.performance_history]
        peak = capital_curve[0]
        max_dd = 0

        for value in capital_curve:
            if value > peak:
                peak = value
            dd = (value - peak) / peak
            max_dd = min(max_dd, dd)

        return max_dd
```

**Performance metrics:**
- **Sharpe Ratio**: Risk-adjusted returns (target > 1.5)
- **Total Return**: Absolute gains (target > 25% APY)
- **Max Drawdown**: Peak-to-trough loss (target < 20%)
- **Win Rate**: % profitable periods (target > 60%)
- **Volatility**: Standard deviation of returns (lower is better)
- **Consistency**: Variance of daily returns (lower is better)

### **Selection (Capital Allocation):**

```python
class ArenaManager:
    def allocate_capital(self):
        """Dynamically allocate capital based on fitness"""

        # Get all active agents
        active_agents = [a for a in self.agents if a.status == "active"]

        # Sort by fitness
        ranked = sorted(active_agents, key=lambda a: a.fitness_score, reverse=True)

        # Allocation tiers
        total_capital = 200000  # $200K in main arena

        # Elite tier (top 20%): 60% of capital
        elite_count = max(1, len(ranked) // 5)
        elite = ranked[:elite_count]
        elite_allocation = total_capital * 0.60

        # Active tier (middle 30%): 30% of capital
        active_count = max(1, len(ranked) * 3 // 10)
        active = ranked[elite_count:elite_count + active_count]
        active_allocation = total_capital * 0.30

        # Challenger tier (bottom 50%): 10% of capital
        challenger = ranked[elite_count + active_count:]
        challenger_allocation = total_capital * 0.10

        # Distribute capital
        for agent in elite:
            agent.real_capital = elite_allocation / len(elite)

        for agent in active:
            agent.real_capital = active_allocation / len(active)

        for agent in challenger:
            agent.real_capital = challenger_allocation / len(challenger) if challenger else 0

        logger.info(f"Capital allocated: {len(elite)} elite, {len(active)} active, {len(challenger)} challengers")
```

**Allocation strategy:**
- **Top 20% (Elite)**: 60% of capital ($120K / ~3 agents = $40K each)
- **Middle 30% (Active)**: 30% of capital ($60K / ~4 agents = $15K each)
- **Bottom 50% (Challengers)**: 10% of capital ($20K / ~7 agents = $3K each)

**Rebalancing:**
- **Daily**: Update fitness scores
- **Weekly**: Reallocate capital based on new rankings
- **Monthly**: Kill underperformers, graduate new agents

### **Death (Agent Termination):**

```python
class ArenaManager:
    def kill_underperformers(self):
        """Terminate agents that fail to meet standards"""

        killed = []

        for agent in self.agents:
            # Kill conditions
            if (
                # Negative fitness for 30 days
                (agent.fitness_score < 0 and agent.days_negative >= 30) or

                # Catastrophic drawdown
                (agent.max_drawdown() < -0.50) or

                # Negative returns for 90 days
                (agent.total_return() < 0 and agent.age >= 90) or

                # Sharpe ratio too low
                (agent.sharpe_ratio() < 0.5 and agent.age >= 60) or

                # Retirement age
                (agent.age > 365)
            ):
                logger.info(f"Killing agent {agent.id}: fitness={agent.fitness_score:.2f}, age={agent.age}")
                killed.append(agent)
                self.agents.remove(agent)

                # Spawn replacement
                self.spawn_agent(agent.strategy)  # Same strategy, different params

        return killed
```

**Death triggers:**
- Fitness < 0 for 30+ consecutive days
- Max drawdown > 50%
- Negative returns for 90+ days
- Sharpe ratio < 0.5 for 60+ days
- Age > 365 days (forced retirement)

---

## üß™ SIMULATION ENGINE

### **Historical Backtesting:**

```python
class SimulationEngine:
    def backtest_agent(self, agent, start_date, end_date):
        """Test agent on historical data"""

        # Load market data
        market_data = self.load_historical_data(
            start_date=start_date,
            end_date=end_date,
            assets=agent.get_required_assets()
        )

        # Initialize
        agent.virtual_capital = 10000
        agent.performance_history = []

        # Simulate each day
        for day in market_data:
            # Execute strategy
            trades = agent.execute_strategy(day)

            # Calculate P&L
            pnl = self.calculate_pnl(trades, day.prices, day.fees)
            agent.virtual_capital += pnl

            # Record performance
            agent.performance_history.append({
                'date': day.date,
                'capital': agent.virtual_capital,
                'pnl': pnl,
                'trades': trades,
                'prices': day.prices
            })

        # Calculate final fitness
        fitness = agent.calculate_fitness()

        logger.info(f"Backtest {agent.id}: ${agent.virtual_capital:.2f} (fitness {fitness:.2f})")

        return fitness

    def load_historical_data(self, start_date, end_date, assets):
        """Load OHLCV data from external sources"""

        data = []

        for asset in assets:
            # Fetch from CoinGecko, CoinMarketCap, or local cache
            df = self.fetch_price_data(asset, start_date, end_date)
            data.append(df)

        # Merge and align timestamps
        merged = self.align_data(data)

        return merged
```

**Data sources:**
- CoinGecko API (free tier)
- CoinMarketCap API
- Local cache (CSV files)
- On-chain data (Dune Analytics)

**Backtesting period:**
- Full cycle: 2020-01-01 to 2025-01-01 (5 years)
- Recent: 2023-01-01 to 2025-01-01 (2 years)
- Bull market: 2020-01-01 to 2021-11-01
- Bear market: 2021-11-01 to 2022-11-01
- Recovery: 2023-01-01 to 2024-12-01

### **Live Simulation (Paper Trading):**

```python
class SimulationEngine:
    def live_simulate_agent(self, agent, duration_days=30):
        """Test agent with real-time data, fake money"""

        logger.info(f"Starting live simulation for {agent.id} ({duration_days} days)")

        agent.virtual_capital = 10000
        start_date = datetime.now()

        for day in range(duration_days):
            # Fetch real-time market data
            market_data = self.fetch_realtime_data(agent.get_required_assets())

            # Execute strategy
            trades = agent.execute_strategy(market_data)

            # Calculate P&L (simulated)
            pnl = self.calculate_pnl(trades, market_data.prices, market_data.fees)
            agent.virtual_capital += pnl

            # Record performance
            agent.performance_history.append({
                'date': datetime.now(),
                'capital': agent.virtual_capital,
                'pnl': pnl,
                'trades': trades
            })

            # Daily update
            agent.age += 1

            # Sleep until next day (in production, this runs continuously)
            time.sleep(86400)  # 24 hours

        # Calculate final fitness
        fitness = agent.calculate_fitness()

        # Check graduation criteria
        if (
            fitness > 2.0 and
            agent.sharpe_ratio() > 1.5 and
            agent.win_rate() > 0.60 and
            agent.max_drawdown() > -0.20
        ):
            agent.status = "ready_for_proving"
            logger.info(f"Agent {agent.id} ready for proving grounds!")

        return fitness
```

---

## üéì GRADUATION PROTOCOL

### **Simulation ‚Üí Proving Grounds:**

**Requirements:**
```python
def can_graduate_to_proving(agent):
    return (
        agent.status == "simulation" and
        agent.fitness_score > 2.0 and
        agent.sharpe_ratio() > 1.5 and
        agent.win_rate() > 0.60 and
        agent.max_drawdown() > -0.20 and
        agent.age >= 30  # 30 days of data
    )
```

**Allocation:**
- $1,000 real capital
- 30-day proving period
- Must maintain fitness > 2.0

### **Proving Grounds ‚Üí Main Arena:**

**Requirements:**
```python
def can_graduate_to_arena(agent):
    return (
        agent.status == "proving" and
        agent.real_capital > agent.initial_real_capital and  # Profitable
        agent.fitness_score > 2.0 and
        agent.sharpe_ratio() > 1.5 and
        agent.age >= 30 and  # 30 days in proving
        agent.max_drawdown() > -0.25
    )
```

**Allocation:**
- Starts with $5K-$20K (based on performance)
- Dynamic reallocation weekly

### **Main Arena ‚Üí Elite Status:**

**Requirements:**
```python
def is_elite(agent):
    return (
        agent.status == "active" and
        agent.fitness_score > 2.5 and
        agent.sharpe_ratio() > 2.0 and
        agent.age >= 90 and  # 90 days in arena
        agent.max_drawdown() > -0.15 and
        agent.rank <= len(self.active_agents) * 0.2  # Top 20%
    )
```

**Allocation:**
- Up to $50K-$100K per elite agent

---

## üìä TREASURY ARENA DASHBOARD

### **API Endpoints:**

```python
# Get arena overview
GET /api/arena/overview
Response:
{
  "total_capital": 373261,
  "stable_reserve": 163000,
  "arena_capital": 200000,
  "proving_capital": 10000,
  "agents_active": 12,
  "agents_proving": 4,
  "agents_simulating": 50,
  "performance_30d": 0.142,
  "sharpe_30d": 1.8
}

# Get agent rankings
GET /api/arena/agents
Response:
[
  {
    "id": "agent-abc123",
    "strategy": "DeFi-Farmer",
    "status": "active",
    "capital": 45000,
    "fitness": 2.4,
    "sharpe": 2.1,
    "return_30d": 0.123,
    "drawdown": -0.08,
    "rank": 1
  },
  ...
]

# Get agent details
GET /api/arena/agents/{agent_id}
Response:
{
  "id": "agent-abc123",
  "strategy": "DeFi-Farmer-A",
  "status": "active",
  "tier": "elite",
  "capital": 45000,
  "fitness": 2.4,
  "sharpe": 2.1,
  "return_30d": 0.123,
  "return_total": 0.342,
  "drawdown_max": -0.08,
  "win_rate": 0.68,
  "age_days": 120,
  "trades_total": 340,
  "trades_winning": 231,
  "performance_history": [...]
}

# Get simulation layer
GET /api/arena/simulation
Response:
{
  "agents_total": 50,
  "agents_ready_for_proving": 8,
  "agents_in_backtest": 22,
  "agents_failed": 20,
  "top_performers": [...]
}
```

### **Dashboard UI (HTML):**

```html
<!-- Arena Overview -->
<div class="arena-overview">
  <h2>Treasury Arena - $373K Total</h2>

  <!-- Capital Distribution -->
  <div class="capital-chart">
    <div class="stable-reserve" style="width: 43.7%">
      Stable Reserve: $163K (43.7%)
    </div>
    <div class="main-arena" style="width: 53.6%">
      Main Arena: $200K (53.6%)
    </div>
    <div class="proving-grounds" style="width: 2.7%">
      Proving: $10K (2.7%)
    </div>
  </div>

  <!-- Performance Metrics -->
  <div class="arena-metrics">
    <div class="metric">
      <span class="label">30-Day Return</span>
      <span class="value positive">+14.2%</span>
    </div>
    <div class="metric">
      <span class="label">Arena Sharpe</span>
      <span class="value">1.8</span>
    </div>
    <div class="metric">
      <span class="label">Active Agents</span>
      <span class="value">12</span>
    </div>
  </div>
</div>

<!-- Agent Rankings -->
<div class="agent-rankings">
  <h3>Elite Agents (Top 20%)</h3>
  <table>
    <tr>
      <th>Rank</th>
      <th>Agent</th>
      <th>Capital</th>
      <th>30d Return</th>
      <th>Sharpe</th>
      <th>Fitness</th>
    </tr>
    <tr class="elite">
      <td>1</td>
      <td>DeFi-Farmer-A</td>
      <td>$45K</td>
      <td class="positive">+12.3%</td>
      <td>2.4</td>
      <td>2.41</td>
    </tr>
    <tr class="elite">
      <td>2</td>
      <td>Tactical-BTC-B</td>
      <td>$40K</td>
      <td class="positive">+28.1%</td>
      <td>2.1</td>
      <td>2.35</td>
    </tr>
    <tr class="elite">
      <td>3</td>
      <td>Arb-Hunter-C</td>
      <td>$35K</td>
      <td class="positive">+9.7%</td>
      <td>1.9</td>
      <td>2.12</td>
    </tr>
  </table>
</div>

<!-- Simulation Layer -->
<div class="simulation-layer">
  <h3>Simulation Layer (50 agents)</h3>
  <div class="sim-stats">
    <div class="stat">
      <span class="label">Ready for Proving</span>
      <span class="value">8 agents</span>
    </div>
    <div class="stat">
      <span class="label">In Backtest</span>
      <span class="value">22 agents</span>
    </div>
    <div class="stat">
      <span class="label">Failed & Killed</span>
      <span class="value">20 agents</span>
    </div>
  </div>
</div>
```

---

## üöÄ DEPLOYMENT ROADMAP

### **Phase 1: Foundation (Week 1) - $0 Capital**

**Goals:**
- Build agent framework
- Implement simulation engine
- Create historical data pipeline
- Deploy 20 test agents

**Deliverables:**
- `TreasuryAgent` class
- `SimulationEngine` class
- `ArenaManager` class
- Historical data loader (2020-2025)
- 20 agents in simulation layer

**Capital:** $0 (all simulated)

### **Phase 2: Proving Grounds (Week 2) - $10K Capital**

**Goals:**
- Graduate top 10 simulated agents
- Deploy $1K real capital to each
- Track 30-day live performance
- Build arena dashboard

**Deliverables:**
- 10 agents with $1K real capital each
- Live trading execution (via exchange APIs)
- Performance tracking dashboard
- Daily fitness calculations

**Capital:** $10K real money

### **Phase 3: Main Arena Launch (Week 3-4) - $50K Capital**

**Goals:**
- Graduate top 5 proving agents
- Deploy $50K to main arena
- Implement dynamic rebalancing
- Enable birth/death mechanics

**Deliverables:**
- 5 agents in main arena ($10K each)
- Weekly capital reallocation
- Agent spawning (mutations)
- Agent killing (underperformers)

**Capital:** $50K real money

### **Phase 4: Full Scale (Month 2) - $200K Capital**

**Goals:**
- Scale to 10-15 active agents
- 50+ agents in simulation layer
- Full evolutionary loop operational
- Continuous optimization

**Deliverables:**
- $200K active management
- 10-15 active agents
- 50+ simulated agents
- Public arena dashboard

**Capital:** $200K real money

### **Phase 5: Paradise (Month 3+) - Autonomous**

**Goals:**
- Hands-off operation
- Self-optimizing returns
- Ecosystem integration (church/trust)
- Scaling to $1M+

**Deliverables:**
- Fully autonomous arena
- 25-50% APY average
- Funding other FPAI initiatives
- Treasury compounds to $500K+

**Capital:** $373K+ (growing)

---

## üí∞ FINANCIAL PROJECTIONS

### **Conservative Scenario (25% APY):**

```
Month 1: $200K ‚Üí $204K (+$4K)
Month 3: $200K ‚Üí $212K (+$12K)
Month 6: $200K ‚Üí $225K (+$25K)
Month 12: $200K ‚Üí $250K (+$50K)

+ Stable Reserve: $163K @ 8% = $13K/year
= Total: $63K profit (17% on $373K)
```

### **Moderate Scenario (35% APY):**

```
Month 1: $200K ‚Üí $206K (+$6K)
Month 3: $200K ‚Üí $218K (+$18K)
Month 6: $200K ‚Üí $235K (+$35K)
Month 12: $200K ‚Üí $270K (+$70K)

+ Stable Reserve: $163K @ 8% = $13K/year
= Total: $83K profit (22% on $373K)
```

### **Aggressive Scenario (50% APY):**

```
Month 1: $200K ‚Üí $208K (+$8K)
Month 3: $200K ‚Üí $225K (+$25K)
Month 6: $200K ‚Üí $250K (+$50K)
Month 12: $200K ‚Üí $300K (+$100K)

+ Stable Reserve: $163K @ 8% = $13K/year
= Total: $113K profit (30% on $373K)
```

**Target: 35% blended APY**

**This funds:**
- All operating costs ($5-10/month)
- I MATCH development ($5K/month)
- Platform infrastructure ($3K/month)
- Marketing budget ($5K/month)
- Emergency reserve ($10K/month)
- Total: $23K/month needed ‚Üí $83K profit covers 3.6 months

**After 6 months:** Treasury self-sustaining, no more capital needed.

---

## üîó INTEGRATION WITH RESOURCE SSOT

### **Update CAPITAL_VISION_SSOT.md:**

Add section after "Treasury Strategy":

```markdown
## üèõÔ∏è TREASURY ARENA (Evolutionary Capital Allocation)

**Status:** Phase 3 - Main Arena ($50K deployed)
**Active Agents:** 5
**Proving Agents:** 4
**Simulating Agents:** 50+

**30-Day Performance:**
- Return: +14.2%
- Sharpe Ratio: 1.8
- Max Drawdown: -8.3%
- Win Rate: 68%

**Top 3 Performers:**
1. **DeFi-Farmer-A**: $15K ‚Üí $16.8K (+12.3%, Sharpe 2.4)
   - Strategy: Aave USDC ‚Üí Pendle PT rotation
   - Fitness: 2.41 (Elite tier)

2. **Tactical-BTC-B**: $12K ‚Üí $15.4K (+28.1%, Sharpe 2.1)
   - Strategy: MVRV-based BTC entries/exits
   - Fitness: 2.35 (Elite tier)

3. **Arb-Hunter-C**: $10K ‚Üí $11.0K (+9.7%, Sharpe 1.9)
   - Strategy: Cross-exchange arbitrage
   - Fitness: 2.12 (Elite tier)

**Next Graduation:** 8 agents ready for proving grounds
**Next Termination:** 2 agents underperforming (30-day review)

**Dashboard:** https://fullpotential.com/dashboard/arena
```

### **Update BOOT.md Step 1:**

Add to "PRESENT RESOURCES" section:

```markdown
**Treasury Management:** Evolutionary Arena
- 5 AI agents competing for $50K
- Top agent: +28.1% returns (30d)
- Auto-optimization via survival-of-fittest
- Dashboard: https://fullpotential.com/dashboard/arena
```

---

## üéØ SUCCESS METRICS

### **Agent Level:**
- Fitness score > 2.0 (top 20%)
- Sharpe ratio > 1.5 (risk-adjusted)
- Win rate > 60% (consistent)
- Max drawdown < 20% (risk control)

### **Arena Level:**
- 30-day return > 8% (annualized 100%+)
- 90-day return > 20% (annualized 80%+)
- 12-month return > 35% (target APY)
- Sharpe ratio > 1.5 (better than S&P 500)

### **System Level:**
- Treasury self-sustaining (yields > costs)
- No human intervention needed
- Continuous evolution (new agents weekly)
- Scalable to $1M+ capital

---

## üîí RISK MANAGEMENT

### **Position Limits:**
- Max 30% capital in single agent
- Max 10% capital in single strategy
- Max 50% capital in high-risk strategies
- Min 40% capital in low-risk strategies

### **Drawdown Controls:**
- Agent killed if drawdown > 50%
- Arena paused if drawdown > 30%
- Capital reduced if drawdown > 20%
- Stop-loss per agent: -25%

### **Smart Contract Risk:**
- Max 20% in single protocol
- Only audited protocols (min 2 audits)
- Time-tested protocols (min 6 months live)
- Insurance preferred (Nexus Mutual)

### **Exchange Risk:**
- Max 30% on single exchange
- Only top-tier exchanges (Binance, Coinbase, Kraken)
- Cold storage for idle capital
- Regular audits

---

## üìù TECHNICAL STACK

### **Backend:**
- Python 3.11+
- FastAPI (API server)
- PostgreSQL (agent data, performance history)
- Redis (caching, real-time data)
- Celery (background tasks, agent execution)

### **Data:**
- CoinGecko API (price data)
- Dune Analytics (on-chain data)
- Exchange APIs (Binance, Coinbase)
- Local cache (historical data)

### **Execution:**
- CCXT library (unified exchange API)
- Web3.py (DeFi interactions)
- Custom agents per strategy

### **Monitoring:**
- Grafana (metrics dashboard)
- Prometheus (time-series data)
- Sentry (error tracking)
- Discord webhooks (alerts)

---

## üåê CONCLUSION

**The Treasury Arena is paradise through evolution.**

- **Self-optimizing**: Winners get more capital, losers die
- **Self-healing**: Failed agents replaced automatically
- **Self-scaling**: Infinite agents can compete
- **Self-funding**: Yields fund all operations

**No human needed. Capital compounds. Ecosystem thrives.**

üèõÔ∏è‚ö°üíé **$373K ‚Üí $5T begins with evolutionary treasury management.**

---

**Next Steps:**
1. Review this spec
2. Get approval to build
3. Deploy Phase 1 (simulation)
4. Deploy Phase 2 (proving grounds)
5. Deploy Phase 3 (main arena)
6. Watch paradise unfold

**Status:** READY TO BUILD ‚úÖ
