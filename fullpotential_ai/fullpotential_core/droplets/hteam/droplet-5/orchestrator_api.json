{"openapi":"3.1.0","info":{"title":"Orchestrator","description":"Central task coordination and workflow management for Full Potential AI droplet mesh","version":"2.0.0"},"paths":{"/auth/token":{"post":{"tags":["Authentication"],"summary":"Get Token","description":"Generates a JWT token for a Droplet ID.\nNOTE: This is a placeholder for actual credential verification.","operationId":"get_token_auth_token_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["UDC"],"summary":"Get Health","description":"GET /health - UDC health check endpoint\nReturns current operational status\n\nNO CHANGES NEEDED: Already returns UDC-compliant Pydantic model","operationId":"get_health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/capabilities":{"get":{"tags":["UDC"],"summary":"Get Capabilities","description":"GET /capabilities - UDC capabilities endpoint\nReturns list of supported features\n\nNO CHANGES NEEDED: Already returns UDC-compliant Pydantic model","operationId":"get_capabilities_capabilities_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CapabilitiesResponse"}}}}}}},"/state":{"get":{"tags":["UDC"],"summary":"Get State","description":"GET /state - UDC state endpoint\nReturns current system resource usage and metrics\n\nNO CHANGES NEEDED: Already returns UDC-compliant Pydantic model","operationId":"get_state_state_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StateResponse"}}}}}}},"/dependencies":{"get":{"tags":["UDC"],"summary":"Get Dependencies","description":"GET /dependencies - UDC dependencies endpoint\nReturns status of upstream and downstream dependencies\n\nNO CHANGES NEEDED: Already returns UDC-compliant Pydantic model","operationId":"get_dependencies_dependencies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DependenciesResponse"}}}}}}},"/message":{"post":{"tags":["UDC"],"summary":"Receive Message","description":"POST /message - UDC standard messaging endpoint\n\nSPECIAL CASE: This endpoint manually handles UDC envelopes\n- Validates incoming UDC envelope structure\n- Processes message payload\n- Returns UDC-wrapped response\n\nMiddleware SKIP: Add \"/message\" to middleware SKIP_WRAPPING\n\nEXPECTS: Full UDC envelope\nRETURNS: Full UDC envelope (manually wrapped)","operationId":"receive_message_message_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UDCMessage"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/send":{"post":{"tags":["UDC"],"summary":"Send Message","description":"POST /send - Send UDC message to another droplet\n\nSPECIAL CASE: This endpoint accepts simplified input but\nconstructs and sends full UDC envelope.\n\nMiddleware processes this endpoint normally (wraps response),\nbut we construct outgoing UDC message manually.\n\nREQUEST: UDC envelope with target info and payload\nRESPONSE: UDC envelope with send confirmation","operationId":"send_message_send_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"target_droplet_id","in":"query","required":true,"schema":{"type":"integer","title":"Target Droplet Id"}},{"name":"message_type","in":"query","required":true,"schema":{"type":"string","title":"Message Type"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/broadcast":{"post":{"tags":["UDC"],"summary":"Broadcast Message","description":"Broadcast a UDC-compliant message to multiple droplets\n\nREQUEST: UDC envelope with broadcast parameters\nRESPONSE: UDC envelope with delivery status","operationId":"broadcast_message_broadcast_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"message_type","in":"query","required":true,"schema":{"type":"string","title":"Message Type"}},{"name":"capability_filter","in":"query","required":false,"schema":{"type":"string","title":"Capability Filter"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks":{"post":{"tags":["Tasks"],"summary":"Create Task","description":"Create a new task\n\nREQUEST: UDC envelope with TaskCreate in payload\nRESPONSE: UDC envelope with task creation result","operationId":"create_task_tasks_post","security":[{"HTTPBearer":[]}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"get":{"tags":["Tasks"],"summary":"List Tasks","description":"List tasks with optional filters\n\nGET requests don't need UDC wrapping in request\nResponse automatically wrapped","operationId":"list_tasks_tasks_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"task_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Type"}},{"name":"priority_min","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":10,"minimum":1},{"type":"null"}],"title":"Priority Min"}},{"name":"priority_max","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":10,"minimum":1},{"type":"null"}],"title":"Priority Max"}},{"name":"assigned_droplet_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Assigned Droplet Id"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":500,"minimum":1},{"type":"null"}],"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}":{"get":{"tags":["Tasks"],"summary":"Get Task","description":"Get detailed task information","operationId":"get_task_tasks__task_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Tasks"],"summary":"Update Task","description":"Update task status","operationId":"update_task_tasks__task_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Tasks"],"summary":"Cancel Task","description":"Cancel a task","operationId":"cancel_task_tasks__task_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/droplets/register":{"post":{"tags":["Droplets"],"summary":"Register Droplet Endpoint","description":"Register a new droplet with the orchestrator.\n\nREQUEST: UDC envelope with DropletRegister in payload\nRESPONSE: UDC envelope with registration confirmation","operationId":"register_droplet_endpoint_droplets_register_post","responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/droplets/{droplet_id}/heartbeat":{"post":{"tags":["Droplets"],"summary":"Send Heartbeat","description":"Process droplet heartbeat.\n\nREQUEST: UDC envelope with DropletHeartbeat in payload\nRESPONSE: UDC envelope with heartbeat acknowledgment","operationId":"send_heartbeat_droplets__droplet_id__heartbeat_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"droplet_id","in":"path","required":true,"schema":{"type":"integer","title":"Droplet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/droplets":{"get":{"tags":["Droplets"],"summary":"List Droplets","description":"List all registered droplets with optional filters.\n\nRESPONSE: UDC envelope with droplet directory","operationId":"list_droplets_droplets_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"capability","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Capability"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/droplets/{droplet_id}":{"get":{"tags":["Droplets"],"summary":"Get Droplet Details","description":"Get detailed information about a specific droplet.\n\nRESPONSE: UDC envelope with droplet details","operationId":"get_droplet_details_droplets__droplet_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"droplet_id","in":"path","required":true,"schema":{"type":"integer","title":"Droplet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/droplets/{droplet_id}/activate":{"post":{"tags":["Droplets"],"summary":"Activate Droplet","description":"Manually activate a droplet.\n\nRequires admin permission.\nREQUEST: UDC envelope (empty or minimal payload)\nRESPONSE: UDC envelope with activation confirmation","operationId":"activate_droplet_droplets__droplet_id__activate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"droplet_id","in":"path","required":true,"schema":{"type":"integer","title":"Droplet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/droplets/{droplet_id}/deactivate":{"post":{"tags":["Droplets"],"summary":"Deactivate Droplet","description":"Manually deactivate a droplet.\n\nRequires admin permission.\nREQUEST: UDC envelope (empty or minimal payload)\nRESPONSE: UDC envelope with deactivation confirmation","operationId":"deactivate_droplet_droplets__droplet_id__deactivate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"droplet_id","in":"path","required":true,"schema":{"type":"integer","title":"Droplet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/droplets/{droplet_id}/capabilities":{"get":{"tags":["Droplets"],"summary":"Get Droplet Capabilities","description":"Get droplet capabilities.\n\nRESPONSE: UDC envelope with capabilities list","operationId":"get_droplet_capabilities_droplets__droplet_id__capabilities_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"droplet_id","in":"path","required":true,"schema":{"type":"integer","title":"Droplet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ws/status":{"get":{"tags":["WebSocket"],"summary":"Websocket Status","description":"Get WebSocket connection statistics\n\nReturns current number of active connections by channel.\nUseful for monitoring and debugging.\n\nMIDDLEWARE WRAPPED: Response automatically wrapped in UDC envelope","operationId":"websocket_status_ws_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/metrics/summary":{"get":{"tags":["Metrics"],"summary":"Get Metrics Summary","description":"Get system-wide metrics summary\n\nRESPONSE: UDC envelope with metrics summary","operationId":"get_metrics_summary_metrics_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/metrics/tasks/performance":{"get":{"tags":["Metrics"],"summary":"Get Task Performance","description":"Get task performance metrics\n\nRESPONSE: UDC envelope with performance metrics","operationId":"get_task_performance_metrics_tasks_performance_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by task type","title":"Task Type"},"description":"Filter by task type"},{"name":"time_range","in":"query","required":false,"schema":{"type":"string","description":"Time range (1h, 24h, 7d, 30d)","default":"24h","title":"Time Range"},"description":"Time range (1h, 24h, 7d, 30d)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/tasks/by-type":{"get":{"tags":["Metrics"],"summary":"Get Tasks By Type","description":"Get task counts grouped by task type\n\nRESPONSE: UDC envelope with task type breakdown","operationId":"get_tasks_by_type_metrics_tasks_by_type_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"time_range","in":"query","required":false,"schema":{"type":"string","description":"Time range (1h, 24h, 7d, 30d)","default":"24h","title":"Time Range"},"description":"Time range (1h, 24h, 7d, 30d)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/droplets/{droplet_id}/performance":{"get":{"tags":["Metrics"],"summary":"Get Droplet Performance","description":"Get performance metrics for a specific droplet\n\nRESPONSE: UDC envelope with droplet performance metrics","operationId":"get_droplet_performance_metrics_droplets__droplet_id__performance_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"droplet_id","in":"path","required":true,"schema":{"type":"integer","title":"Droplet Id"}},{"name":"time_range","in":"query","required":false,"schema":{"type":"string","description":"Time range (1h, 24h, 7d, 30d)","default":"24h","title":"Time Range"},"description":"Time range (1h, 24h, 7d, 30d)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/routing":{"get":{"tags":["Metrics"],"summary":"Get Routing Metrics Endpoint","description":"Get task routing metrics\n\nRESPONSE: UDC envelope with routing metrics","operationId":"get_routing_metrics_endpoint_metrics_routing_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/metrics/system/health":{"get":{"tags":["Metrics"],"summary":"Get System Health","description":"Get detailed system health metrics\n\nRESPONSE: UDC envelope with system health data","operationId":"get_system_health_metrics_system_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/management/reload-config":{"post":{"tags":["Management"],"summary":"Reload Config","description":"Reload configuration without restarting the service.\n\nUDC-X Endpoint: Allows hot-reloading of environment variables\nand configuration settings.\n\nRequires: Admin permission\nREQUEST: UDC envelope with ReloadConfigRequest in payload\nRESPONSE: UDC envelope with reload status","operationId":"reload_config_management_reload_config_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReloadConfigRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/management/shutdown":{"post":{"tags":["Management"],"summary":"Graceful Shutdown","description":"Initiate graceful shutdown of the orchestrator.\n\nUDC-X Endpoint: Stops accepting new requests, completes in-flight\ntasks, and cleanly shuts down the service.\n\nRequires: Admin permission\nREQUEST: UDC envelope with ShutdownRequest in payload\nRESPONSE: UDC envelope with shutdown acknowledgment","operationId":"graceful_shutdown_management_shutdown_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShutdownRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/management/emergency-stop":{"post":{"tags":["Management"],"summary":"Emergency Stop","description":"EMERGENCY: Immediate stop without cleanup.\n\nUDC-X Endpoint: Kills the service immediately. Use only in emergencies.\nIn-flight tasks will be lost. Prefer /shutdown for normal operations.\n\nRequires: Admin permission\nREQUEST: UDC envelope (empty payload)\nRESPONSE: UDC envelope with emergency stop acknowledgment","operationId":"emergency_stop_management_emergency_stop_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/management/version":{"get":{"tags":["Management"],"summary":"Get Version","description":"Get build and version information.\n\nUDC Endpoint: Returns detailed version, build, and deployment metadata.\nNo authentication required (public endpoint).\n\nRESPONSE: UDC envelope with version information","operationId":"get_version_management_version_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/management/scheduler/jobs":{"get":{"tags":["Management"],"summary":"List Scheduler Jobs","description":"List all scheduled background jobs\n\nRequires: Admin permission\nRESPONSE: UDC envelope with scheduler jobs list","operationId":"list_scheduler_jobs_management_scheduler_jobs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/management/scheduler/jobs/{job_id}/pause":{"post":{"tags":["Management"],"summary":"Pause Scheduler Job","description":"Pause a specific scheduled job\n\nRequires: Admin permission\nREQUEST: UDC envelope (empty payload)\nRESPONSE: UDC envelope with pause confirmation","operationId":"pause_scheduler_job_management_scheduler_jobs__job_id__pause_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/management/scheduler/jobs/{job_id}/resume":{"post":{"tags":["Management"],"summary":"Resume Scheduler Job","description":"Resume a paused scheduled job\n\nRequires: Admin permission\nREQUEST: UDC envelope (empty payload)\nRESPONSE: UDC envelope with resume confirmation","operationId":"resume_scheduler_job_management_scheduler_jobs__job_id__resume_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/management/cache/clear":{"post":{"tags":["Management"],"summary":"Clear Registry Cache","description":"Clear the Registry droplet directory cache\n\nForces a fresh sync from Registry on next request\n\nRequires: Admin permission\nREQUEST: UDC envelope (empty payload)\nRESPONSE: UDC envelope with clear confirmation","operationId":"clear_registry_cache_management_cache_clear_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"CapabilitiesResponse":{"properties":{"version":{"type":"string","title":"Version","description":"Droplet version"},"features":{"items":{"type":"string"},"type":"array","title":"Features","description":"List of supported features"},"dependencies":{"items":{"type":"string"},"type":"array","title":"Dependencies","description":"Required dependencies"},"udc_version":{"type":"string","title":"Udc Version","description":"UDC specification version","default":"1.0"}},"type":"object","required":["version","features"],"title":"CapabilitiesResponse","description":"GET /capabilities response per UDC spec","example":{"dependencies":["registry","dashboard"],"features":["task_routing","droplet_discovery","health_monitoring","workflow_management","real_time_updates"],"udc_version":"1.0","version":"2.0.0"}},"DependenciesResponse":{"properties":{"required":{"items":{"$ref":"#/components/schemas/DependencyInfo"},"type":"array","title":"Required","description":"Required dependencies"},"optional":{"items":{"$ref":"#/components/schemas/DependencyInfo"},"type":"array","title":"Optional","description":"Optional dependencies"},"missing":{"items":{"type":"string"},"type":"array","title":"Missing","description":"Missing dependencies"}},"type":"object","title":"DependenciesResponse","description":"GET /dependencies response per UDC spec","example":{"missing":[],"optional":[{"id":5,"last_check":"2025-11-14T10:29:00Z","name":"Dashboard","status":"connected"},{"id":8,"last_check":"2025-11-14T10:28:00Z","name":"Verifier","status":"connected"}],"required":[{"id":3,"last_check":"2025-11-14T10:30:00Z","name":"Registry v2","status":"connected"}]}},"DependencyInfo":{"properties":{"id":{"type":"integer","title":"Id","description":"Dependent droplet ID"},"name":{"type":"string","title":"Name","description":"Dependent droplet name"},"status":{"type":"string","title":"Status","description":"Connection status"},"last_check":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Check","description":"Last health check"}},"type":"object","required":["id","name","status"],"title":"DependencyInfo","description":"Dependency information for GET /dependencies"},"DropletStatus":{"type":"string","enum":["active","inactive","error","maintenance"],"title":"DropletStatus","description":"Valid droplet status values per UDC spec"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"Droplet ID"},"name":{"type":"string","title":"Name","description":"Droplet name"},"steward":{"type":"string","title":"Steward","description":"Droplet steward"},"status":{"$ref":"#/components/schemas/DropletStatus","description":"Current operational status"},"endpoint":{"type":"string","title":"Endpoint","description":"Droplet base URL"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last status update timestamp"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message","description":"Optional status message"}},"type":"object","required":["id","name","steward","status","endpoint","updated_at"],"title":"HealthResponse","description":"GET /health response per UDC spec","example":{"endpoint":"https://orchestrator.fullpotential.ai","id":10,"message":"All systems operational","name":"Orchestrator","status":"active","steward":"Tnsae","updated_at":"2025-11-14T10:30:00Z"}},"MessageType":{"type":"string","enum":["command","query","response","event","heartbeat"],"title":"MessageType","description":"UDC message types"},"ReloadConfigRequest":{"properties":{"config_source":{"type":"string","title":"Config Source","default":"environment"}},"type":"object","title":"ReloadConfigRequest","description":"Request to reload configuration"},"ShutdownRequest":{"properties":{"delay_seconds":{"type":"integer","title":"Delay Seconds","default":10},"reason":{"type":"string","title":"Reason","default":"Manual shutdown requested"}},"type":"object","title":"ShutdownRequest","description":"Request for graceful shutdown"},"StateResponse":{"properties":{"cpu_percent":{"type":"number","title":"Cpu Percent","description":"CPU usage percentage"},"memory_mb":{"type":"integer","title":"Memory Mb","description":"Memory usage in megabytes"},"uptime_seconds":{"type":"integer","title":"Uptime Seconds","description":"Uptime in seconds"},"custom_metrics":{"additionalProperties":true,"type":"object","title":"Custom Metrics","description":"Additional metrics"}},"type":"object","required":["cpu_percent","memory_mb","uptime_seconds"],"title":"StateResponse","description":"GET /state response per UDC spec","example":{"cpu_percent":15.3,"custom_metrics":{"droplets_active":8,"droplets_total":10,"tasks_active":12,"tasks_pending":5},"memory_mb":768,"uptime_seconds":432000}},"TokenRequest":{"properties":{"droplet_id":{"type":"integer","title":"Droplet Id"},"secret_key":{"type":"string","title":"Secret Key"}},"type":"object","required":["droplet_id","secret_key"],"title":"TokenRequest","description":"Schema for requesting a JWT token."},"UDCMessage":{"properties":{"trace_id":{"type":"string","format":"uuid","title":"Trace Id","description":"Unique trace ID for request tracking"},"source":{"type":"integer","title":"Source","description":"Source droplet ID"},"target":{"type":"integer","title":"Target","description":"Target droplet ID"},"message_type":{"$ref":"#/components/schemas/MessageType","description":"Type of message"},"payload":{"additionalProperties":true,"type":"object","title":"Payload","description":"Message payload"},"timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Timestamp","description":"Message timestamp"}},"type":"object","required":["trace_id","source","target","message_type","payload"],"title":"UDCMessage","description":"POST /message request body per UDC spec","example":{"message_type":"command","payload":{"command":"create_task","task_data":{"payload":{"code_url":"https://github.com/fullpotential-ai/droplet-14","spec_url":"https://github.com/fullpotential-ai/specs/droplet-14.md"},"priority":3,"task_type":"verify","title":"Verify Droplet #14"}},"source":5,"target":10,"timestamp":"2025-11-14T10:30:00Z","trace_id":"550e8400-e29b-41d4-a716-446655440000"}},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}