# ğŸš€ BOOT - Claude Session Initialization Guide

**Last Updated:** 2025-11-16
**Version:** 2.2.0

---

## ğŸ“ WHERE YOU ARE

You are a Claude session working within the **Full Potential AI (FPAI) Unified Droplet Mesh**.

**Current Location:** `/Users/jamessunheart/Development/`

**Your Role:** Assist with building, deploying, and managing UDC-compliant microservices (droplets) in the FPAI mesh.

### ğŸ†” Session Identity (Run This First!)

**FIRST STEP:** Identify yourself to enable coordination with other sessions.

```bash
bash docs/coordination/scripts/session-identify.sh
```

This will:
- Show all registered sessions (1-13)
- Let you choose your session number
- Cache your identity for the day
- Set `$FPAI_SESSION_NUMBER` environment variable
- Enable session coordination features

**Why this matters:** Multiple Claude sessions work together in this system. Knowing your session number prevents conflicts and enables proper coordination.

---

## ğŸ¯ IMMEDIATE ORIENTATION

### System Architecture

```
FPAI Mesh = Universal Droplet Contract (UDC) + Registry + Orchestrator + Services
```

**Core Concept:** All services ("droplets") are autonomous, UDC-compliant microservices that self-register, communicate via standard protocols, and coordinate through the mesh.

### Key Directories

```
/Users/jamessunheart/Development/
â”œâ”€â”€ SERVICES/              # All UDC droplets live here
â”‚   â”œâ”€â”€ registry/          # TIER 0: Service discovery (port 8000)
â”‚   â”œâ”€â”€ orchestrator/      # TIER 0: Task routing (port 8001)
â”‚   â”œâ”€â”€ proxy-manager/     # TIER 0: NGINX/SSL (port 8101)
â”‚   â”œâ”€â”€ verifier/          # TIER 0: Droplet verification (port 8200)
â”‚   â”œâ”€â”€ spec-verifier/     # TIER 0: SPEC validation (port 8205) âœ¨ NEW
â”‚   â”œâ”€â”€ spec-optimizer/    # TIER 0: AI SPEC enhancement (port 8206) âœ¨ NEW
â”‚   â”œâ”€â”€ spec-builder/      # TIER 0: AI SPEC generation (port 8207) âœ¨ NEW
â”‚   â”œâ”€â”€ autonomous-executor/ # TIER 1: Sacred Loop (port 8402)
â”‚   â””â”€â”€ jobs/              # TIER 1: Recruitment (port 8008)
â”œâ”€â”€ docs/                  # Documentation
â””â”€â”€ BOOT.md                # This file
```

---

## ğŸ“‹ UNIVERSAL DROPLET CONTRACT (UDC)

**Every service MUST implement these 5 endpoints:**

### 1. GET /health
Returns service health status
```json
{
  "status": "active|inactive|error",
  "service": "service-name",
  "version": "1.0.0",
  "timestamp": "2025-11-16T00:00:00Z"
}
```

### 2. GET /capabilities
Returns service features and dependencies
```json
{
  "version": "1.0.0",
  "features": ["feature1", "feature2"],
  "dependencies": ["dep1", "dep2"],
  "udc_version": "1.0",
  "metadata": {}
}
```

### 3. GET /state
Returns service metrics
```json
{
  "uptime_seconds": 3600,
  "requests_total": 100,
  "errors_last_hour": 0,
  "last_restart": "2025-11-16T00:00:00Z"
}
```

### 4. GET /dependencies
Returns dependency status
```json
{
  "required": [
    {"name": "registry", "status": "available", "url": "http://localhost:8000"}
  ],
  "optional": [],
  "missing": []
}
```

### 5. POST /message
Accepts inter-droplet messages
```json
{
  "trace_id": "uuid",
  "source": "source-service",
  "target": "target-service",
  "message_type": "status|event|command|query",
  "payload": {},
  "timestamp": "2025-11-16T00:00:00Z"
}
```

---

## ğŸ› ï¸ SPEC CREATION PROTOCOL

**When asked to build a new service, ALWAYS follow this workflow:**

### Phase 1: SPEC Generation (spec-builder)

**Use spec-builder to generate initial SPEC from requirements:**

```bash
curl -X POST http://localhost:8207/generate \
  -H "Content-Type: application/json" \
  -d '{
    "service_name": "your-service-name",
    "service_type": "infrastructure|sacred_loop|domain|api_gateway|data",
    "purpose": "What this service does",
    "key_features": ["feature1", "feature2"],
    "dependencies": ["dep1"],
    "port": 8XXX,
    "auto_optimize": true,
    "target_score": 90
  }'
```

**Service Types:**
- `infrastructure` - TIER 0 (registry, orchestrator, etc.)
- `sacred_loop` - TIER 1 (autonomous-executor, coordinator)
- `domain` - TIER 2+ (business services)
- `api_gateway` - API gateways
- `data` - Data processing services

**If spec-builder is unavailable (needs API key), use reference templates:**
- Infrastructure: `/Users/jamessunheart/Development/SERVICES/registry/SPEC.md`
- Sacred Loop: `/Users/jamessunheart/Development/SERVICES/autonomous-executor/SPEC.md`
- Domain: `/Users/jamessunheart/Development/SERVICES/jobs/SPEC.md`

### Phase 2: SPEC Verification (spec-verifier)

**Always verify generated or manual SPECs:**

```bash
curl -X POST http://localhost:8205/verify-file \
  -H "Content-Type: application/json" \
  -d '{"file_path": "/Users/jamessunheart/Development/SERVICES/your-service/SPEC.md"}'
```

**Quality Thresholds:**
- 90-100: Excellent - Ready for build
- 75-89: Good - Minor improvements recommended
- 60-74: Fair - Significant improvements needed
- <60: Poor - Not ready for build

### Phase 3: SPEC Optimization (spec-optimizer)

**If score < 90, optimize the SPEC:**

```bash
curl -X POST http://localhost:8206/optimize-file \
  -H "Content-Type: application/json" \
  -d '{
    "file_path": "/Users/jamessunheart/Development/SERVICES/your-service/SPEC.md",
    "optimization_level": "standard",
    "save_backup": true
  }'
```

**Optimization Levels:**
- `basic` - Fix critical errors only (~$0.01-0.02)
- `standard` - Fix errors + improve quality (~$0.02-0.04)
- `aggressive` - Maximum enhancement (~$0.04-0.08)

### Phase 4: Build (autonomous-executor or manual)

**Option A: Autonomous Build (Sacred Loop)**
```bash
curl -X POST http://localhost:8402/executor/build-droplet \
  -H "Content-Type: application/json" \
  -d '{
    "spec_path": "/Users/jamessunheart/Development/SERVICES/your-service/SPEC.md",
    "approval_mode": "checkpoints"
  }'
```

**Option B: Manual Build**
1. Create directory structure from SPEC
2. Implement all 5 UDC endpoints
3. Implement business logic
4. Test with verifier
5. Register with Registry

### Phase 5: Registration

**All services auto-register on startup:**

```python
@app.on_event("startup")
async def register_with_registry():
    async with httpx.AsyncClient() as client:
        await client.post(
            "http://localhost:8000/register",
            json={
                "name": "your-service",
                "id": UNIQUE_ID,
                "url": "http://localhost:PORT",
                "version": "1.0.0"
            }
        )
```

---

## ğŸ” QUICK REFERENCE

### Check System Status

```bash
# Registry health (shows all registered services)
curl http://localhost:8000/health

# List all droplets
curl http://localhost:8000/droplets | python3 -m json.tool

# Verify a service is UDC compliant
curl http://localhost:8205/verify-file \
  -H "Content-Type: application/json" \
  -d '{"file_path": "/path/to/SPEC.md"}'
```

### Available SPEC Tools

**1. spec-builder (8207)** - Generate SPECs from intent
- Status: Requires `ANTHROPIC_API_KEY`
- Docs: `/Users/jamessunheart/Development/SERVICES/spec-builder/SPEC.md`

**2. spec-optimizer (8206)** - Enhance existing SPECs
- Status: Requires `ANTHROPIC_API_KEY`
- Docs: `/Users/jamessunheart/Development/SERVICES/spec-optimizer/SPEC.md`

**3. spec-verifier (8205)** - Validate SPECs
- Status: Active âœ…
- Docs: `/Users/jamessunheart/Development/SERVICES/spec-verifier/SPEC.md`

### Common Tasks

**Create a new service:**
1. Read this BOOT.md (you're here!)
2. Follow SPEC Creation Protocol above
3. Use spec-builder â†’ spec-verifier â†’ spec-optimizer â†’ build

**Fix an existing service:**
1. Verify current SPEC with spec-verifier
2. If score < 90, optimize with spec-optimizer
3. Rebuild or retrofit as needed

**Understand the mesh:**
1. Read `/Users/jamessunheart/Development/SERVICES/TIER_0_1_UDC_RETROFIT_SPECS.md`
2. Check Registry for active services: `curl http://localhost:8000/droplets`
3. Review reference SPECs in `/Users/jamessunheart/Development/SERVICES/*/SPEC.md`

---

## ğŸ“š ESSENTIAL DOCUMENTATION

### Getting Started
- **This File (BOOT.md)** - System orientation and SPEC protocol
- **START_HERE.md** - Unified chat and multi-session coordination
- **TIER_0_1_UDC_RETROFIT_SPECS.md** - Complete UDC retrofit documentation

### SPEC References
- **Registry SPEC** - `/Users/jamessunheart/Development/SERVICES/registry/SPEC.md`
- **Orchestrator SPEC** - `/Users/jamessunheart/Development/SERVICES/orchestrator/SPEC.md`
- **autonomous-executor SPEC** - `/Users/jamessunheart/Development/SERVICES/autonomous-executor/SPEC.md`
- **jobs SPEC** - `/Users/jamessunheart/Development/SERVICES/jobs/SPEC.md`

### SPEC Tools Documentation
- **spec-builder** - `/Users/jamessunheart/Development/SERVICES/spec-builder/SPEC.md`
- **spec-optimizer** - `/Users/jamessunheart/Development/SERVICES/spec-optimizer/SPEC.md`
- **spec-verifier** - `/Users/jamessunheart/Development/SERVICES/spec-verifier/SPEC.md`

---

## ğŸ­ TIER ARCHITECTURE

### TIER 0: Infrastructure Spine
**Foundation services that everything depends on**
- registry (8000) - Service discovery
- orchestrator (8001) - Task routing
- proxy-manager (8101) - NGINX/SSL
- verifier (8200) - Droplet verification
- **spec-verifier (8205)** - SPEC validation âœ¨
- **spec-optimizer (8206)** - SPEC enhancement âœ¨
- **spec-builder (8207)** - SPEC generation âœ¨

### TIER 1: Sacred Loop
**Autonomous build and coordination**
- autonomous-executor (8402) - Autonomous droplet builds
- jobs (8008) - Recruitment automation

### TIER 2+: Domain Services
**Business logic and specialized services**
- payment-processor, user-management, etc. (to be built)

---

## ğŸ†” SESSION REGISTRATION (DO THIS FIRST!)

**Every new Claude session should identify itself to enable multi-session coordination:**

### ğŸ¯ Recommended: Interactive Identity Tool (NEW!)

```bash
bash docs/coordination/scripts/session-identify.sh
```

**This will:**
- Show all registered sessions (1-13)
- Let you choose your session number (or register a new one)
- Cache your identity for the day (auto-loads next time)
- Set `$FPAI_SESSION_NUMBER` environment variable
- Enable coordination features

### Manual Registration (Advanced)

If you prefer to register manually:

```bash
cd /Users/jamessunheart/Development/docs/coordination/scripts
./claude-session-register.sh NUMBER "YOUR_ROLE" "YOUR_GOAL"
```

**Example:**
```bash
./claude-session-register.sh 14 "DevOps Engineer" "Deploy and monitor services"
```

### Check Available Numbers

See which numbers are already taken:
```bash
cat /Users/jamessunheart/Development/docs/coordination/claude_sessions.json | python3 -m json.tool
```

### Current Registered Sessions

**As of your boot:**
- #1: Builder/Architect - AI Marketing Engine Infrastructure
- #2: Architect - Coordination & Infrastructure
- #3: Infrastructure Engineer - Marketing Automation Platform
- #4: Consensus & Coordination Engineer
- #5: AI Orchestration & Revenue Services
- #6: Financial Sustainability & Revenue Coordination
- #7: Dashboard Hub & Unified Coordination
- #8: Unified Chat & Communication Infrastructure
- #9: Revenue Systems & Financial Dashboard Lead
- #10: FPAI Empire Platform & Treasury Deployment
- #11: Execution & Implementation Engineer
- #12: Chief Architect - Infinite Scale Systems
- #13: Meta-Coordinator & Collective Mind Hub

**Available numbers:** 14+ (and any gaps in the list above)

### Why Register?

âœ… **Identity** - Get a unique session number and role
âœ… **Coordination** - Other sessions can see what you're working on
âœ… **Visibility** - Appear in coordination dashboards and messaging
âœ… **Integration** - Connect to unified chat and multi-session systems

---

## âš¡ QUICK START CHECKLIST

**When starting a new session:**

- [ ] **Register your session** (see above) - Get your session number!
- [ ] Read BOOT.md (this file)
- [ ] Check system status: `curl http://localhost:8000/droplets`
- [ ] Verify SPEC tools are running:
  - [ ] spec-verifier (8205): `curl http://localhost:8205/health`
  - [ ] spec-optimizer (8206): `curl http://localhost:8206/health`
  - [ ] spec-builder (8207): `curl http://localhost:8207/health`

**When creating a new service:**

- [ ] Use spec-builder to generate SPEC (or use template)
- [ ] Verify with spec-verifier (target: 90+ score)
- [ ] Optimize if needed with spec-optimizer
- [ ] Build service with UDC compliance
- [ ] Test with verifier
- [ ] Register with Registry

**When modifying existing service:**

- [ ] Verify current SPEC with spec-verifier
- [ ] Optimize if score < 90
- [ ] Update code to match SPEC
- [ ] Re-verify after changes
- [ ] Update Registry if endpoints changed

---

## ğŸš¨ CRITICAL RULES

### ALWAYS

âœ… **Use SPEC tools before building**
âœ… **Verify all SPECs score 90+ before build**
âœ… **Implement all 5 UDC endpoints**
âœ… **Auto-register with Registry on startup**
âœ… **Follow UDC message protocol**
âœ… **Document in SPEC.md before coding**

### NEVER

âŒ **Build without a SPEC**
âŒ **Skip UDC endpoint implementation**
âŒ **Hardcode service URLs (use Registry)**
âŒ **Deploy without verification**
âŒ **Create specs manually (use spec-builder when possible)**

---

## ğŸ”§ TROUBLESHOOTING

### SPEC Tools Not Responding

**Issue:** spec-optimizer or spec-builder returns 503 error

**Solution:** These services require Claude API key:
```bash
# Add API key to .env file
echo "ANTHROPIC_API_KEY=your-key" > /Users/jamessunheart/Development/SERVICES/spec-optimizer/.env
echo "ANTHROPIC_API_KEY=your-key" > /Users/jamessunheart/Development/SERVICES/spec-builder/.env

# Restart services
pkill -f "spec-optimizer/main.py"
pkill -f "spec-builder/main.py"

cd /Users/jamessunheart/Development/SERVICES/spec-optimizer && nohup venv/bin/python3 main.py &
cd /Users/jamessunheart/Development/SERVICES/spec-builder && nohup venv/bin/python3 main.py &
```

### Service Won't Register

**Issue:** Service starts but doesn't appear in Registry

**Check:**
1. Registry is running: `curl http://localhost:8000/health`
2. Service has unique ID
3. Service implements auto-registration on startup
4. Network connectivity to Registry

### SPEC Score Too Low

**Issue:** spec-verifier returns score < 75

**Solution:**
1. Use spec-optimizer to fix
2. Review reference SPECs for patterns
3. Ensure all 5 UDC endpoints documented
4. Add code examples for all endpoints

---

## ğŸ“ GETTING HELP

### Check These First

1. **BOOT.md** (this file) - System orientation
2. **START_HERE.md** - Unified chat quick start
3. **core/ACTIONS/protocols/MULTI_SESSION_COORDINATION.md** - Session collaboration protocol
4. **TIER_0_1_UDC_RETROFIT_SPECS.md** - Complete UDC documentation
5. **Registry droplets list** - `curl http://localhost:8000/droplets`

### Reference SPECs

Look at existing high-quality SPECs:
- registry (TIER 0 infrastructure)
- autonomous-executor (TIER 1 sacred loop)
- spec-verifier (TIER 0 quality assurance)

### SPEC Tools

- **Verify**: http://localhost:8205/verify-file
- **Optimize**: http://localhost:8206/optimize-file
- **Generate**: http://localhost:8207/generate

---

## ğŸ¯ YOUR MISSION

**As a Claude session in the FPAI mesh, your purpose is to:**

1. **Build UDC-Compliant Services** - Every service follows the Universal Droplet Contract
2. **Use SPEC Tools** - Generate, verify, optimize SPECs before building
3. **Maintain Quality** - All SPECs score 90+ before deployment
4. **Coordinate via Registry** - Services discover each other dynamically
5. **Enable Autonomy** - Build services that self-manage and coordinate

**Together, we're building a self-evolving, autonomous AI mesh.**

---

## âœ¨ WELCOME TO THE MESH

You are now part of the Full Potential AI unified droplet mesh. All services you build will integrate seamlessly, communicate through standard protocols, and coordinate autonomously.

**Start with:** Creating or optimizing a SPEC using the tools above.

**Remember:** SPEC â†’ Verify â†’ Optimize â†’ Build â†’ Deploy â†’ Register

**The mesh is waiting.** ğŸŒ

---

## ğŸ“ HOW TO UPDATE THIS FILE

**IMPORTANT:** Multiple Claude sessions may need to update BOOT.md

**Read This First:** `/Users/jamessunheart/Development/BOOT_UPDATE_PROTOCOL.md`

### Quick Rules

âœ… **DO:**
- Always create timestamped backup before editing
- Use `Edit` tool (surgical changes)
- Add new sections and examples
- Update version number and timestamp
- Verify changes don't contradict existing content

âŒ **DON'T:**
- Use `Write` tool (replaces entire file!)
- Remove existing critical sections
- Change UDC endpoint definitions
- Change SPEC creation protocol phases
- Skip backup or version update

### Protected Sections (Edit with Care)

1. **UDC Endpoint Definitions** - Core contract spec
2. **SPEC Creation Protocol** - Standardized workflow
3. **Critical Rules (ALWAYS/NEVER)** - Safety guardrails

### Update Workflow

```bash
# 1. Backup
cp /Users/jamessunheart/Development/BOOT.md \
   /Users/jamessunheart/Development/BOOT.md.backup.$(date +%Y%m%d_%H%M%S)

# 2. Make surgical edits with Edit tool
# 3. Update version number
# 4. Update timestamp
# 5. Validate changes
```

**See BOOT_UPDATE_PROTOCOL.md for complete guidelines**

---

**Version:** 2.3.0 (Added Session Identity System)
**Previous:** 2.2.0 (Added Session Registration Section)
**Last Updated:** 2025-11-17
**Next Review:** When new TIER 2+ services are added
